<!-- 

    This is the page where admin mange services
 -->
<%- include('templates/header') %>
    <div class="top-container">
        <header style="text-align: center;
    
    margin-top: 1rem;
    color: #003249;">
            <h1>Manage Services</h1>
            <p>Admin can create, read, update, and delete services</p>
            <a href="/admin"><button style="background-color: #003249 !important; color: white;"
                    class="btn py-2 mb-3">Manage Request</button></a>
        </header>
        <div class="cd-buttons">
            <div class="create-service">+</div>
            <div class="delete-service">-</div>
        </div>

    </div>

    <!-- Create a service -->
    <div class="create-container">
        <label for="name">Service name</label>
        <input type="text" name="name" id="name">
        <label for="description">Service description</label>
        <textarea name="description" id="description" rows="4"></textarea>
        <label for="price">Service price</label>
        <input type="text" name="price" id="price">
        <input type="file" name="image" id="image">
        <div class="actions">
            <button id="create-button">Create</button>
            <button id="cancel-button-create">Cancel</button>
        </div>

    </div>
    <div class="content-container">

    </div>

    <!-- update a service -->
    <!-- Generated by chat gpt 3.5
        @author https://chat.openai.com/
    -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h2 id="modal-name" contenteditable="true"></h2>
                <p id="modal-description" contenteditable="true"></p>
                <p id="modal-price" contenteditable="true"></p>
                <div class="modal-actions">
                    <button id="save-button">Save</button>
                    <button id="cancel-button">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- These are pop up messages that indicate failure or success of operation -->
    <div id="created">
        Entry created successfully.
    </div>
    <div id="invalid">
        Input field can't be empty. Only .png file is accepted
    </div>
    <div id="deleted">
        Entry deleted successfully
    </div>

    <div id="priceInvalid">
        Price should be integer
    </div>

    <!-- Add adminService.css file which is specific to adminService.ejs to the header  -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var link = document.createElement("link");
            link.rel = "stylesheet";
            link.href = "/adminService.css";
            document.head.appendChild(link);
        });
    </script>

    <!-- Give access services variable to adminService.js  -->
    <script>
        const services = <% - JSON.stringify(services) %>;
    </script>

    <script src="adminService.js"></script>
    <%- include('templates/footer') %>